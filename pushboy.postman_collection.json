{
	"info": {
		"_postman_id": "pushboy-api-collection",
		"name": "Pushboy API",
		"description": "Push notification service API for topic-based and user-focused notifications. Features a scalable async pipeline with parallel senders for high-throughput notification delivery.",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"variable": [
		{
			"key": "baseUrl",
			"value": "http://localhost:8080",
			"type": "string"
		},
		{
			"key": "userID",
			"value": "550e8400-e29b-41d4-a716-446655440000",
			"type": "string"
		},
		{
			"key": "topicID",
			"value": "topic:announcements",
			"type": "string"
		},
		{
			"key": "tokenID",
			"value": "",
			"type": "string"
		},
		{
			"key": "jobID",
			"value": "",
			"type": "string"
		}
	],
	"item": [
		{
			"name": "Health",
			"item": [
				{
					"name": "Ping",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/v1/ping",
							"host": ["{{baseUrl}}"],
							"path": ["v1", "ping"]
						},
						"description": "Health check endpoint"
					},
					"response": []
				}
			]
		},
		{
			"name": "Users",
			"item": [
				{
					"name": "Create User",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"id\": \"550e8400-e29b-41d4-a716-446655440000\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/v1/users",
							"host": ["{{baseUrl}}"],
							"path": ["v1", "users"]
						},
						"description": "Create a new user with an optional ID. If no ID is provided, a UUID will be auto-generated."
					},
					"response": []
				},
				{
					"name": "Create User (auto-generate ID)",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{}"
						},
						"url": {
							"raw": "{{baseUrl}}/v1/users",
							"host": ["{{baseUrl}}"],
							"path": ["v1", "users"]
						},
						"description": "Create a new user with an auto-generated UUID."
					},
					"response": []
				},
				{
					"name": "Get User",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/v1/users/{{userID}}",
							"host": ["{{baseUrl}}"],
							"path": ["v1", "users", "{{userID}}"]
						},
						"description": "Get a user by ID"
					},
					"response": []
				},
				{
					"name": "Delete User",
					"request": {
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/v1/users/{{userID}}",
							"host": ["{{baseUrl}}"],
							"path": ["v1", "users", "{{userID}}"]
						},
						"description": "Delete a user (cascades to tokens and subscriptions)"
					},
					"response": []
				}
			]
		},
		{
			"name": "Tokens",
			"item": [
				{
					"name": "Register Token (with user ID)",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"id\": \"550e8400-e29b-41d4-a716-446655440000\",\n    \"platform\": \"apns\",\n    \"token\": \"device_token_ios_123\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/v1/users/tokens",
							"host": ["{{baseUrl}}"],
							"path": ["v1", "users", "tokens"]
						},
						"description": "Register a device token. Creates the user if they don't exist. If user exists, adds the token as a new device."
					},
					"response": []
				},
				{
					"name": "Register Token (auto-generate user ID)",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"platform\": \"fcm\",\n    \"token\": \"device_token_android_456\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/v1/users/tokens",
							"host": ["{{baseUrl}}"],
							"path": ["v1", "users", "tokens"]
						},
						"description": "Register a device token with auto-generated user ID. Returns the new user and token."
					},
					"response": []
				},
				{
					"name": "Register Additional Device",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"id\": \"550e8400-e29b-41d4-a716-446655440000\",\n    \"platform\": \"fcm\",\n    \"token\": \"second_device_token_789\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/v1/users/tokens",
							"host": ["{{baseUrl}}"],
							"path": ["v1", "users", "tokens"]
						},
						"description": "Register another device for an existing user (same user ID, different token)"
					},
					"response": []
				},
				{
					"name": "Get User Tokens",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/v1/users/{{userID}}/tokens",
							"host": ["{{baseUrl}}"],
							"path": ["v1", "users", "{{userID}}", "tokens"]
						},
						"description": "Get all tokens registered for a user"
					},
					"response": []
				},
				{
					"name": "Delete Token",
					"request": {
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/v1/users/{{userID}}/tokens/{{tokenID}}",
							"host": ["{{baseUrl}}"],
							"path": ["v1", "users", "{{userID}}", "tokens", "{{tokenID}}"]
						},
						"description": "Delete a specific token"
					},
					"response": []
				}
			]
		},
		{
			"name": "Topics",
			"item": [
				{
					"name": "Create Topic",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"name\": \"announcements\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/v1/topics",
							"host": ["{{baseUrl}}"],
							"path": ["v1", "topics"]
						},
						"description": "Create a new topic"
					},
					"response": []
				},
				{
					"name": "List Topics",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/v1/topics",
							"host": ["{{baseUrl}}"],
							"path": ["v1", "topics"]
						},
						"description": "List all topics"
					},
					"response": []
				},
				{
					"name": "Get Topic by ID",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/v1/topics/{{topicID}}",
							"host": ["{{baseUrl}}"],
							"path": ["v1", "topics", "{{topicID}}"]
						},
						"description": "Get a topic by ID"
					},
					"response": []
				},
				{
					"name": "Delete Topic",
					"request": {
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/v1/topics/{{topicID}}",
							"host": ["{{baseUrl}}"],
							"path": ["v1", "topics", "{{topicID}}"]
						},
						"description": "Delete a topic"
					},
					"response": []
				}
			]
		},
		{
			"name": "Subscriptions",
			"item": [
				{
					"name": "Subscribe User to Topic",
					"request": {
						"method": "POST",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/v1/users/{{userID}}/subscriptions/{{topicID}}",
							"host": ["{{baseUrl}}"],
							"path": ["v1", "users", "{{userID}}", "subscriptions", "{{topicID}}"]
						},
						"description": "Subscribe a user to a topic"
					},
					"response": []
				},
				{
					"name": "Unsubscribe User from Topic",
					"request": {
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/v1/users/{{userID}}/subscriptions/{{topicID}}",
							"host": ["{{baseUrl}}"],
							"path": ["v1", "users", "{{userID}}", "subscriptions", "{{topicID}}"]
						},
						"description": "Unsubscribe a user from a topic"
					},
					"response": []
				},
				{
					"name": "Get User Subscriptions",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/v1/users/{{userID}}/subscriptions",
							"host": ["{{baseUrl}}"],
							"path": ["v1", "users", "{{userID}}", "subscriptions"]
						},
						"description": "Get all topic subscriptions for a user"
					},
					"response": []
				}
			]
		},
		{
			"name": "Notifications",
			"item": [
				{
					"name": "Send to User (async)",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"title\": \"Direct Message\",\n    \"body\": \"This notification is sent directly to all your devices.\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/v1/users/{{userID}}/send",
							"host": ["{{baseUrl}}"],
							"path": ["v1", "users", "{{userID}}", "send"]
						},
						"description": "Queue a notification to be sent to all of a user's devices. This is processed asynchronously through the notification pipeline. Returns {\"status\": \"queued\"} immediately."
					},
					"response": []
				},
				{
					"name": "Publish to Topic (async)",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"title\": \"New Announcement\",\n    \"body\": \"This is a broadcast message to all subscribers of this topic.\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/v1/topics/{{topicID}}/publish",
							"host": ["{{baseUrl}}"],
							"path": ["v1", "topics", "{{topicID}}", "publish"]
						},
						"description": "Queue a notification to be published to all users subscribed to a topic. This is processed asynchronously through the notification pipeline with parallel senders."
					},
					"response": []
				},
				{
					"name": "Get Publish Job Status",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/v1/topics/{{topicID}}/publish/{{jobID}}",
							"host": ["{{baseUrl}}"],
							"path": ["v1", "topics", "{{topicID}}", "publish", "{{jobID}}"]
						},
						"description": "Get the status of a topic publish job. Status can be: PENDING, IN_PROGRESS, or COMPLETED."
					},
					"response": []
				}
			]
		}
	]
}


